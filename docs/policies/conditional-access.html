<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Conditional Access Policy | GraphShield | Docs</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="GraphShield policy that controls access to the Microsoft Graph based on conditional access rules.">
    <meta name="twitter:title" content="Conditional Access Policy">
    <meta name="twitter:description" content="GraphShield policy that controls access to the Microsoft Graph based on conditional access rules.">
    <meta name="twitter:card" content="summary">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Conditional Access Policy">
    <meta property="og:description" content="GraphShield policy that controls access to the Microsoft Graph based on conditional access rules.">
    <meta itemprop="name" content="Conditional Access Policy">
    <meta itemprop="description" content="GraphShield policy that controls access to the Microsoft Graph based on conditional access rules.">
    
    <link rel="preload" href="/assets/css/0.styles.436420f3.css" as="style"><link rel="preload" href="/assets/js/app.800fda4e.js" as="script"><link rel="preload" href="/assets/js/2.356b9677.js" as="script"><link rel="preload" href="/assets/js/21.9daa31ae.js" as="script"><link rel="prefetch" href="/assets/js/10.d54d0b71.js"><link rel="prefetch" href="/assets/js/11.72d646f8.js"><link rel="prefetch" href="/assets/js/12.8a1893de.js"><link rel="prefetch" href="/assets/js/13.d2d3960b.js"><link rel="prefetch" href="/assets/js/14.8e6c8e70.js"><link rel="prefetch" href="/assets/js/15.409abdfb.js"><link rel="prefetch" href="/assets/js/16.bc0ad2d9.js"><link rel="prefetch" href="/assets/js/17.bc70724b.js"><link rel="prefetch" href="/assets/js/18.f61880d6.js"><link rel="prefetch" href="/assets/js/19.b6ed459d.js"><link rel="prefetch" href="/assets/js/20.8469898b.js"><link rel="prefetch" href="/assets/js/22.e6e57b7c.js"><link rel="prefetch" href="/assets/js/23.447709bf.js"><link rel="prefetch" href="/assets/js/3.68bee775.js"><link rel="prefetch" href="/assets/js/4.21d8355b.js"><link rel="prefetch" href="/assets/js/5.75eb39e3.js"><link rel="prefetch" href="/assets/js/6.007e69c5.js"><link rel="prefetch" href="/assets/js/7.87824bf7.js"><link rel="prefetch" href="/assets/js/8.84cfd5e3.js"><link rel="prefetch" href="/assets/js/9.d6d3930c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.436420f3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="GraphShield | Docs" class="logo"> <span class="site-name can-hide">GraphShield | Docs</span></a> <div class="links"><!----> <div class="user-settings"><a href="#" class="settings-button"><svg aria-hidden="true" data-prefix="fas" data-icon="cog" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-cog fa-w-16 settings-icon"><path fill="currentColor" d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"></path></svg></a> <div class="user-settings-menu" style="display:none;"><div class="theme-options"><!----> <ul class="color-theme-options"><li><a href="#" class="default-theme"></a></li> <li><a href="#" class="blue-theme"></a></li><li><a href="#" class="red-theme"></a></li><li><a href="#" class="purple-theme"></a></li></ul> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">🌗 Dark Theme</label> <input id="dark-theme-toggle" type="checkbox"></div> <div class="ignore-themes-options toggle-option"><label for="ignore-themes-toggle">Ignore Other Themes?</label> <input id="ignore-themes-toggle" type="checkbox"></div> <!----></div></div></div> <!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>GETTING STARTED</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">What is GraphShield?</a></li><li><a href="/how-does-it-work.html" class="sidebar-link">How does it Work?</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>SECURITY &amp; COMPLIANCE POLICIES</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/policies/" aria-current="page" class="sidebar-link">Understanding Policies and Rules</a></li><li><a href="/policies/conditional-access.html" aria-current="page" class="active sidebar-link">Conditional Access Policy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/policies/conditional-access.html#threat-intelligence" class="sidebar-link">Threat Intelligence</a></li><li class="sidebar-sub-header"><a href="/policies/conditional-access.html#ip-based-control" class="sidebar-link">IP-based Control</a></li><li class="sidebar-sub-header"><a href="/policies/conditional-access.html#location-based-control" class="sidebar-link">Location-based Control</a></li></ul></li><li><a href="/policies/auditing.html" class="sidebar-link">Auditing Policy</a></li><li><a href="/policies/classification.html" class="sidebar-link">Classification Policy</a></li><li><a href="/policies/vip-protection.html" class="sidebar-link">VIP Protection Policy</a></li><li><a href="/policies/beta-endpoints.html" class="sidebar-link">Beta Endpoints Policy</a></li><li><a href="/policies/anonymization.html" class="sidebar-link">Anonymization Policy</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>INTEGRATE YOUR APPS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/integration/" class="sidebar-link">Getting Started</a></li><li><a href="/integration/authentication.html" class="sidebar-link">Authentication</a></li><li><a href="/integration/async-operations.html" class="sidebar-link">Async Operations</a></li><li><a href="/integration/subscriptions.html" class="sidebar-link">Subscriptions</a></li><li><a href="/integration/throttling.html" class="sidebar-link">Throttling Guidance</a></li><li><a href="/integration/errors.html" class="sidebar-link">Error Responses</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TRUST CENTER</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="conditional-access-policy"><a href="#conditional-access-policy" class="header-anchor">#</a> Conditional Access Policy</h1> <blockquote><p>GraphShield policy that controls access to the Microsoft Graph based on conditional access rules.</p></blockquote> <h2 id="threat-intelligence"><a href="#threat-intelligence" class="header-anchor">#</a> Threat Intelligence</h2> <p>GraphShield threat intelligence database includes over 620M malicious IP addresses. Among others, we track Tor nodes and open proxies. Data is checked and updated continuously. Updates occur as changes are detected to reduce false positives to their minimum.</p> <p><code>Threat Intelligence</code> rule supports the following options:</p> <table><thead><tr><th style="text-align:left;">Option</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">Enabled</td> <td style="text-align:left;">Defines if the rule is enabled or disabled.</td></tr> <tr><td style="text-align:left;">Deny Bogon</td> <td style="text-align:left;">Deny IP Addresses known as <a href="https://en.wikipedia.org/wiki/Bogon_filtering" target="_blank" rel="noopener noreferrer">Bogon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: an unassigned, unaddressable IP address. Returns an <code>HTTP 403 Forbidden</code> status code in case of violation.</td></tr> <tr><td style="text-align:left;">Deny Tor</td> <td style="text-align:left;">Deny IP addresses known as Tor relays (exit relay node, middle relay node or a bridge). Returns an <code>HTTP 403 Forbidden</code> status code in case of violation.</td></tr> <tr><td style="text-align:left;">Deny Proxy</td> <td style="text-align:left;">Deny IP addresses known as a proxy. It includes HTTP/HTTPS/SSL/SOCKS/CONNECT and transparent proxies. Returns an <code>HTTP 403 Forbidden</code> status code in case of violation.</td></tr> <tr><td style="text-align:left;">Deny Abuser</td> <td style="text-align:left;">Deny IP addresses that are a known source of abuse (e.g. spam, harvesters, registration bots). Returns an <code>HTTP 403 Forbidden</code> status code in case of violation.</td></tr> <tr><td style="text-align:left;">Deny Attacker</td> <td style="text-align:left;">Deny IP addresses that are a known source of malicious activity (e.g. attacks, malware, botnet activity). Returns an <code>HTTP 403 Forbidden</code> status code in case of violation.</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">Secure by Default</p> <p>All GraphShield <code>Threat Intelligence</code> options are enabled by default.</p></div> <h2 id="ip-based-control"><a href="#ip-based-control" class="header-anchor">#</a> IP-based Control</h2> <p>Controls access to the target API based on IP-based conditional access rules.</p> <p><code>IP-based Control</code> rule supports the following options:</p> <table><thead><tr><th style="text-align:left;">Option</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">Enabled</td> <td style="text-align:left;">Defines if the rule is enabled or disabled.</td></tr> <tr><td style="text-align:left;">Allowed IPs</td> <td style="text-align:left;">Authorized IP Addresses as a list of comma-separated IPs or IP ranges. It handles IPv6, IPv4, and IPv4-mapped over IPv6 addresses. Returns an <code>HTTP 403 Forbidden</code> status code in case of violation.</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>IP-based Control</code> rule is disabled by default.</p></div> <h2 id="location-based-control"><a href="#location-based-control" class="header-anchor">#</a> Location-based Control</h2> <p>Controls access to the target API based on location conditional access rules.</p> <p><code>Location-based Control</code> rule supports the following options:</p> <table><thead><tr><th style="text-align:left;">Option</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">Enabled</td> <td style="text-align:left;">Defines if the rule is enabled or disabled.</td></tr> <tr><td style="text-align:left;">Allowed Countries</td> <td style="text-align:left;">Authorized countries as a list of comma-separated country codes (The 2 letter <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2" target="_blank" rel="noopener noreferrer">ISO 3166-1 alpha-2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> code associated with this IP.) Returns an <code>HTTP 403 Forbidden</code> status code in case of violation.</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>Location-based Control</code> rule is disabled by default.</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/guillaumemeyer/docs/edit/master/public/policies/conditional-access.md" target="_blank" rel="noopener noreferrer">📝 Improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/policies/" class="prev router-link-active">
        Understanding Policies and Rules
      </a></span> <span class="next"><a href="/policies/auditing.html">
        Auditing Policy
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.800fda4e.js" defer></script><script src="/assets/js/2.356b9677.js" defer></script><script src="/assets/js/21.9daa31ae.js" defer></script>
  </body>
</html>
